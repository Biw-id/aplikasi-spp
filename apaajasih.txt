bantuan

produk maunya nyambung dengan pembayaran
nested produk.
di dalam produk isi list pembelian gitu
nggak juga

buat crud baru -> pembayaran
isinya semua list pembayaran, bisa filter per produk

ok gitu aja dah

=======================

kategori hasmany products
products hasmany transactions
transactions belongsto user

tabel transaksi=====
id
tanggal
produk
harga
status

user interface=====
dashboard-> tombol kategori spp pembangunan dll
clicked->list produk
clicked produk->form muncul
form list:

admin only hidden if !admin dan !superadmin(
    user_id
) button clicked then below fill

no edit, autofill if user_id filled(
    nis
    nama
    kelas
    jurusan
    alamat
    nomor_hp
)
kategori(drop down list kategori)
produk(drop down list produk if kategori selected)
harga(show harga if produk selected)



tabel user_info=====
id
user_id
nis
nama
kelas
jurusan
alamat
nomor_hp
date_created
date_modified

tabel order_details=====
id
user_id
(price gausa cause product_id has price alr)
product_id->tabel products
payment_id->tabel payment_details
date_created
date_modified

tabel payment_details=====
id
payment_link
payment_status
date_created
date_modified

tabel order_pivot===== gausah lagi udh ada payment_details
user_id
product_id
order_id
userinfo_id

join dari controller role premission
    /**
     * Show the form for editing the specified resource.
     */
    public function edit(Role $role): View
    {
        if($role->name=='Super Admin'){
            abort(403, 'SUPER ADMIN ROLE CAN NOT BE EDITED');
        }

        $rolePermissions = DB::table("role_has_permissions")->where("role_id",$role->id)
            ->pluck('permission_id')
            ->all();

        return view('roles.edit', [
            'role' => $role,
            'permissions' => Permission::get(),
            'rolePermissions' => $rolePermissions
        ]);
    }

$rolePermissions = akses db tabel role_has_permissions dimana role_id =

gadipake
// Product::create($request->all());
        // return redirect()->route('products.index')
        //         ->withSuccess('New product is added successfully.');

        // $validator = Validator($request->all(), [
        //     'name' => 'required|unique:products',
        //     'description' => 'required',
        //     'kategori_id' => 'required',
        //     'harga' => 'required|integer',
        // ]);

        // if($validator->fails()){
        //     return redirect()->route('products.index')->withErrors($validator)->withInput();
        // }else{
        Product::create([
            'name' => $request->name,
            'description' => $request->description,
            'kategori_id' => $request->kategori_id,
            'harga' => $request->harga,
        ]);

        return redirect()->route('products.index')
            ->withSuccess('New product is added successfully.');

        // }
        // $request->dd();



updated================================ 30 jan 4:25
product create view
        edit
        controller
updateproductrequest.php

INSERT INTO `userinfos` (`id`, `user_id`, `nis`, `nama`, `kelas`, `jurusan`, `alamat`, `no_hp`, `created_at`, `updated_at`) VALUES (NULL, '4', '235720112025', 'abiyyu shiddiq as\'ad', '1SIM', 'Teknik Komputer dan Informatika', 'padang panjang', '082288225830', '2024-01-30 16:52:38', '2024-01-30 16:52:38');
INSERT INTO `paymentdetails` (`id`, `payment_link`, `payment_status`, `created_at`, `updated_at`) VALUES (NULL, 'https://app.sandbox.midtrans.com/payment-links/1706608841701', 'pending', '2024-01-30 16:56:24', '2024-01-30 16:56:24');



Aplikasi website pembayaran SPP
Aplikasi berbasis laravel dan vite js, menggunakan database mysql, sistem autentikasi menggunakan laravel bootstrap ui auth. Menggunakan spatie laravel permission sebagai penerapan hak akses untuk setiap fitur.

Aplikasi ini memiliki tujuan untuk memudahkan sistem pembayaran spp secara online melalui sistem payment gateway(layanan keuangan digital) midtrans.

Detail sistem:
Landing page(halaman awal) ->
login/register
Setiap akun yang di register diberikan level akses "User"
Satu halaman login bisa digunakan untuk semua level akses, dan diarahkan ke halaman dashboard.
Yang menjadi pembeda adalah fitur fitur yang ada dibatasi oleh role dan permission:

User:
- dashboard
- melihat produk
- melakukan transaksi
- mengakses info pengguna dari si user
- mengakses pembelian

product manager:
- CRUD produk
- CRUD kategori
- akses level user

Admin:
- akses level product manager
- akses level user
- CRUD info user
- CRUD bantuan
- CRUD order detail
- CRUD payment detail

Super Admin:
- akses level Admin
- CRUD roles
- CRUD users

alur penggunaan aplikasi pembayaran dari sisi level user
user login => masuk dashboard => user pilih produk => isi form transaksi => muncul link pembayaran berdasarkan informasi transaksi => bayar => status transaksi berhasil => selesai pembayaran

ptl
database
pendidikan mental spiritual

